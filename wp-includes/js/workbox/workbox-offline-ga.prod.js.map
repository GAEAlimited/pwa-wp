{"version":3,"names":[],"mappings":"","sources":["packages/workbox-google-analytics/browser.mjs"],"sourcesContent":["this.workbox=this.workbox||{},this.workbox.googleAnalytics=function(e,t,o,n,c,a,s){\"use strict\";try{self.workbox.v[\"workbox:google-analytics:4.0.0-alpha.0\"]=1}catch(e){}const r=/^\\/(\\w+\\/)?collect/,w=e=>async t=>{let o,{url:n,requestInit:c,timestamp:a}=t;if(n=new URL(n),c.body){const e=c.body instanceof Blob?await(async e=>await new Promise((t,o)=>{const n=new FileReader;n.onloadend=(()=>t(n.result)),n.onerror=(()=>o(n.error)),n.readAsText(e)}))(c.body):c.body;o=new URLSearchParams(e)}else o=n.searchParams;const s=a-(Number(o.get(\"qt\"))||0),r=Date.now()-s;if(o.set(\"qt\",r),e.parameterOverrides)for(const t of Object.keys(e.parameterOverrides)){const n=e.parameterOverrides[t];o.set(t,n)}\"function\"==typeof e.hitFilter&&e.hitFilter.call(null,o),c.body=o.toString(),c.method=\"POST\",c.mode=\"cors\",c.credentials=\"omit\",c.headers={\"Content-Type\":\"text/plain\"},t.url=`${n.origin}${n.pathname}`};return e.initialize=((e={})=>{const l=o.cacheNames.getGoogleAnalyticsName(e.cacheName),i=new t.Plugin(\"workbox-google-analytics\",{maxRetentionTime:2880,callbacks:{requestWillReplay:w(e)}}),u=[(e=>{const t=new a.NetworkFirst({cacheName:e});return new n.Route(({url:e})=>\"www.google-analytics.com\"===e.hostname&&\"/analytics.js\"===e.pathname,t,\"GET\")})(l),(e=>{const t=new a.NetworkFirst({cacheName:e});return new n.Route(({url:e})=>\"www.googletagmanager.com\"===e.hostname&&\"/gtag/js\"===e.pathname,t,\"GET\")})(l),...(e=>{const t=({url:e})=>\"www.google-analytics.com\"===e.hostname&&r.test(e.pathname),o=new s.NetworkOnly({plugins:[e]});return[new n.Route(t,o,\"GET\"),new n.Route(t,o,\"POST\")]})(i)],m=new c.Router;for(const e of u)m.registerRoute(e);m.addFetchListener()}),e}({},workbox.backgroundSync,workbox.core._private,workbox.routing,workbox.routing,workbox.strategies,workbox.strategies);\n"],"file":"workbox-offline-ga.prod.js"}